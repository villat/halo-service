# halo-service

## Cognito Sing Up / Sign In

https://halo.auth.us-east-1.amazoncognito.com/login?client_id=61cksk6soqt20a3qvjop5pliub&response_type=token&scope=email+openid+profile&redirect_uri=https://halo-website.s3.amazonaws.com/callback.html

## Implemented Functions

### 1) Endpoint to assign an User from Cognito the SUPER_ADMIN Role

It's a POST method which needs an **Authorization** header containing the JWT generated by Cognito.

https://xywakuxm55.execute-api.us-east-1.amazonaws.com/dev/admins

### 2) Endpoint to create a new Owner (company admin) user.

It's a POST method which needs an **Authorization** header from a SUPER_ADMIN user.

https://xywakuxm55.execute-api.us-east-1.amazonaws.com/dev/owners

Example body:

```json
{
    "username": "test",
    "email": "test@gmail.com",
    "password": "Somepassword!"
}
```
The password must contain a lower case letter, an upper case letter, a special character, a number, and be at least 8 characters long. Also, it's only a temporary password, when the Owner user logs in to Cognito for the first time, he'll need to change it.

### 3) Endpoint to create a new Company.

It's a POST method which needs an **Authorization** header from a OWNER user. (This is only for demo purposes, the actual implementation will allow SUPER_ADMIN users to create companies as well)

https://xywakuxm55.execute-api.us-east-1.amazonaws.com/dev/companies

Example body:

```json
{
    "name": "Dunder Mifflin",
    "type": "Paper"
}
```

### 4) Endpoint to get Breast Cancer predictions from SageMaker

It's a POST method which needs an **Authorization** header from Cognito sign up (no role required). 

https://xywakuxm55.execute-api.us-east-1.amazonaws.com/dev/predictions

Example body:

```json
{
  "instances": [
    {
      "features": [
        13.49,
        22.3,
        86.91,
        561,
        0.08752,
        0.07697999999999999,
        0.047510000000000004,
        0.033839999999999995,
        0.1809,
        0.057179999999999995,
        0.2338,
        1.3530000000000002,
        1.735,
        20.2,
        0.004455,
        0.013819999999999999,
        0.02095,
        0.01184,
        0.01641,
        0.001956,
        15.15,
        31.82,
        99,
        698.8,
        0.1162,
        0.1711,
        0.2282,
        0.1282,
        0.2871,
        0.06917000000000001
      ]
    }
  ]
}
```
